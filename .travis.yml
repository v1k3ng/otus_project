---
dist: trusty
sudo: required
language: bash
before_install:
  - sudo apt update
  - sudo apt install -y python3 git python3-pip
  - cd docker/search_engine_crawler
  # test bot
  - sudo /usr/bin/pip3 install -r requirements.txt -r requirements-test.txt
  - sudo /usr/bin/python3 -m unittest discover -s tests/
  - coverage run -m unittest discover -s tests/ 
  - coverage report --include crawler/crawler.py
  # test ui
  - cd ../search_engine_ui
  - sudo /usr/bin/pip3 install -r requirements.txt -r requirements-test.txt
  - python3 -m unittest discover -s tests/
  - coverage run -m unittest discover -s tests/
  - coverage report --include ui/ui.py
